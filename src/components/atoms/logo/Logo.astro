---
import { cn } from '../../../utils/cn';

interface Props {
  src?: string;
  alt?: string;
  size?: 'sm' | 'md' | 'lg' | 'xl';
  variant?: 'primary' | 'white' | 'dark';
  class?: string;
  href?: string;
  showText?: boolean;
  loading?: 'eager' | 'lazy';
}

const { 
  src = '/logo-primary.svg',
  alt = 'STIE Dwimulya',
  size = 'md',
  variant = 'primary',
  class: customClass,
  href = '/',
  showText = false,
  loading = 'eager',
} = Astro.props;

// Size variants
const sizeStyles = {
  sm: 'h-8 w-auto',
  md: 'h-12 w-auto',
  lg: 'h-16 w-auto',
  xl: 'h-20 w-auto',
};

// Variant styles for different logo versions
const variantSrc = {
  primary: '/logo-primary.svg',
  white: '/logo-white.svg',
  dark: '/logo-dark.svg',
};

const logoSrc = variantSrc[variant] || src;
const logoClasses = cn(sizeStyles[size], 'object-contain', customClass);
---

{href ? (
  <a 
    href={href} 
    class="inline-flex items-center transition-opacity hover:opacity-80 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 rounded-sm"
    aria-label={`${alt} - Beranda`}
  >
    {showText ? (
      <div class="flex items-center space-x-3">
        <img 
          src={logoSrc} 
          alt={alt}
          class={logoClasses}
          loading={loading}
        />
        <div class="flex flex-col">
          <span class="text-lg font-bold text-primary">STIE Dwimulya</span>
          <span class="text-sm text-gray-600">Sekolah Tinggi Ilmu Ekonomi</span>
        </div>
      </div>
    ) : (
      <img 
        src={logoSrc} 
        alt={alt}
        class={logoClasses}
        loading={loading}
      />
    )}
  </a>
) : (
  showText ? (
    <div class="flex items-center space-x-3">
      <img 
        src={logoSrc} 
        alt={alt}
        class={logoClasses}
        loading={loading}
      />
      <div class="flex flex-col">
        <span class="text-lg font-bold text-primary">STIE Dwimulya</span>
        <span class="text-sm text-gray-600">Sekolah Tinggi Ilmu Ekonomi</span>
      </div>
    </div>
  ) : (
    <img 
      src={logoSrc} 
      alt={alt}
      class={logoClasses}
      loading={loading}
    />
  )
)}